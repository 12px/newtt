!function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)r=o[f],i[r]&&d.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);d.length;)d.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={0:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([17,1]),s()}([,,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},,,function(t){t.exports={a:"0.0.1"}},function(t,e,s){t.exports=s(42)},,,,,,function(t,e,s){"use strict";var n=s(5);s.n(n).a},,function(t,e,s){"use strict";var n=s(6);s.n(n).a},,function(t,e,s){"use strict";var n=s(7);s.n(n).a},,,function(t,e,s){"use strict";var n=s(8);s.n(n).a},,function(t,e,s){"use strict";var n=s(9);s.n(n).a},,function(t,e,s){"use strict";var n=s(10);s.n(n).a},,function(t,e,s){"use strict";var n=s(11);s.n(n).a},,function(t,e,s){"use strict";var n=s(12);s.n(n).a},,function(t,e,s){"use strict";var n=s(13);s.n(n).a},,function(t,e,s){"use strict";s.r(e);var n=s(2),i=s.n(n),a=s(1),r=s(15),o=s(16),c={computed:{view:function(){return this.$store.state.view},local:function(){return this.$store.state._}},methods:{active:function(t){return this.view.tab==t&&!this.view.info},switchTab:function(t){this.update("view",{tab:t})},config:function(){this.update("view",{config:!this.view.config})},close:function(){this.update("local",{mobile:!this.local.mobile})},toggle:function(){this.update("view",{sidebar:!this.view.sidebar})},update:function(t,e){this.$store.commit("update_"+t,e),this.$store.commit("update_local",{mobile:!1})}}},l=(s(23),s(0)),u=Object(l.a)(c,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("aside",{class:{open:t.view.sidebar,mobile:t.local.mobile},attrs:{id:"sidebar"}},[s("a",{staticClass:"logo display-md-down",attrs:{href:"#"},on:{click:function(e){t.close()}}},[s("i",{staticClass:"fas fa-times"}),t._v(" "),s("strong",[t._v("Tabbi")])]),t._v(" "),s("a",{staticClass:"logo display-lg-up",attrs:{href:"#"},on:{click:function(e){t.toggle()}}},[s("i",{staticClass:"fas fa-bars"}),t._v(" "),s("strong",[t._v("Tabbi")])]),t._v(" "),s("div",{staticStyle:{height:"2em"}}),t._v(" "),s("a",{attrs:{href:"#"},on:{click:function(e){t.$emit("newBoard")}}},[s("i",{staticClass:"fas fa-plus-square"}),t._v(" "),s("strong",[t._v("New Board")])]),t._v(" "),s("div",{staticStyle:{height:"2em"}}),t._v(" "),s("a",{class:{active:t.active("boards")},attrs:{href:"#"},on:{click:function(e){t.switchTab("boards")}}},[s("i",{staticClass:"fas fa-thumbtack"}),t._v(" "),s("strong",[t._v("Boards")])]),t._v(" "),s("a",{class:{active:t.active("sessions")},attrs:{href:"#"},on:{click:function(e){t.switchTab("sessions")}}},[s("i",{staticClass:"fas fa-book-open"}),t._v(" "),s("strong",[t._v("Sessions")])]),t._v(" "),s("a",{class:{active:t.active("trash")},attrs:{href:"#"},on:{click:function(e){t.switchTab("trash")}}},[s("i",{staticClass:"fas fa-trash-alt"}),t._v(" "),s("strong",[t._v("Trash")])]),t._v(" "),s("a",{class:{active:t.view.config,bottom:1},attrs:{href:"#"},on:{click:function(e){t.config()}}},[s("i",{staticClass:"fas fa-ellipsis-h"}),t._v(" "),s("strong",[t._v("Options")])])])},[],!1,null,"62dcb893",null);u.options.__file="SideBar.vue";var f=u.exports,d={computed:{mobile:function(){return this.$store.state._.mobile}},methods:{show:function(){this.$store.commit("update_local",{mobile:!this.mobile})},setFilter:function(t){var e=this.$filter.run(t);this.$store.commit("update_local",{filter:e}),"Enter"==t.key&&this.openFiltered(e)},openFiltered:function(t){var e=[],s="board"==t.by;for(var n in this.$store.state.boards){var i=this.$store.state.boards[n];if(i.links)for(var a=i.links.length-1;a>=0;a--){var r=i.links[a],o=s?i:r;this.$filter.out(t,o,s)||e.push(r.link)}}return this.$$.openAll(e)}}},v=(s(25),Object(l.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"toolbar"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"side col display-md-down"},[s("a",{attrs:{href:"#"},on:{click:function(e){t.show()}}},[s("i",{staticClass:"fas fa-bars"})])]),t._v(" "),s("div",{staticClass:"col col-xs-10"},[s("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Type to filter"},on:{keyup:t.setFilter}})])])])])},[],!1,null,"a2cb725a",null));v.options.__file="ToolBar.vue";var h=v.exports;function p(t,e,s,n,i,a,r){try{var o=t[a](r),c=o.value}catch(t){return void s(t)}o.done?e(c):Promise.resolve(c).then(n,i)}var m={computed:{view:function(){return this.$store.state.view},synced:function(){return this.$store.state.meta.syncData}},methods:{close:function(){this.$store.commit("update_view",{config:!1})},setLinks:function(t){this.$store.commit("update_view",{links:t.target.value})},setSync:function(){this.$store.dispatch(this.synced?"disable_sync":"enable_sync",this.$sync)},getImport:function(){var t=function(t){return function(){var e=this,s=arguments;return new Promise(function(n,i){var a=t.apply(e,s);function r(t){p(a,n,i,r,o,"next",t)}function o(t){p(a,n,i,r,o,"throw",t)}r(void 0)})}}(i.a.mark(function t(e){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$importer(e.target.files[0]);case 2:s=t.sent,this.$store.commit("import_bookmarks",s);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},_=(s(27),Object(l.a)(m,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"info"}},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"row bottom"},[s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Already Have Bookmarks?")]),t._v(" "),s("label",[t._v("Import them here to get started!")]),t._v(" "),s("p",{staticClass:"align-center"},[s("input",{attrs:{id:"import",type:"file"},on:{change:t.getImport}}),t._v(" "),s("label",{staticClass:"full button button-primary",attrs:{for:"import"}},[t._v("\n            Import Bookmarks (*.html)\n          ")])])]),t._v(" "),s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Options")]),t._v(" "),s("div",{staticClass:"form-control"},[s("label",[t._v("Collapse After")]),t._v(" "),s("select",{domProps:{value:t.view.links},on:{change:t.setLinks}},[s("option",{attrs:{value:"3"}},[t._v("3 Links")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("5 Links")]),t._v(" "),s("option",{attrs:{value:"10"}},[t._v("10 Links")]),t._v(" "),s("option",{attrs:{value:"25"}},[t._v("25 Links")])])])]),t._v(" "),s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Backup")]),t._v(" "),s("div",{staticClass:"form-control"},[s("label",[t._v("Sync With Google Drive")]),t._v(" "),s("button",{staticClass:"full button-primary",on:{click:function(e){t.setSync()}}},[t._v("\n            Drive Sync: "+t._s(t.synced?"On":"Off")+"\n          ")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col align-center"},[s("a",{staticClass:"button button-primary-outlined button-small",attrs:{href:"https://github.com/12px/tabbi"}},[t._v("View On Github")]),t._v(" "),s("br"),t._v(" "),s("button",{staticClass:"button-primary button-small",on:{click:function(e){t.close()}}},[t._v("\n          Dismiss\n        ")]),t._v(" "),s("br"),t._v(" "),s("small",[t._v("v"+t._s(t.$root.version))])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo row"},[e("div",{staticClass:"col col-lg-2 col-xlg-1"},[e("h3",[this._v("Tabbi")])]),this._v(" "),e("div",{staticClass:"col col-lg-10 col-xlg-11"},[e("h6",[this._v("your (new) new tab page")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Bookmark Focused")]),t._v(" "),s("p",[s("strong",[t._v("Tabbi")]),t._v(" puts all the links you save front and center, so you never have to dig for them. The filter bar it makes it find whichever link you're looking for, and quickly.")]),t._v(" "),s("p",[t._v("Using an extension, you can even save whole sessions of links!")])]),t._v(" "),s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Use Anywhere")]),t._v(" "),s("p",[t._v("Tabbi is available as a static website and a browser extension. Since you can sync your data with google drive, you can use it anywhere.")]),t._v(" "),s("p",[t._v("Use a browser extension on your desktop, and set it as your home page on mobile.")])]),t._v(" "),s("div",{staticClass:"col col-lg-4"},[s("h6",[t._v("Features")]),t._v(" "),s("p",[t._v("\n          Filtering by Title, Tag or Board. "),s("br"),t._v(" "),s("strong",[t._v(":key")]),t._v(" filters boards - \n          "),s("strong",[t._v("#key")]),t._v(" filters tags "),s("br"),t._v(" "),s("em",[t._v("Hit 'Enter' to open all visible links you've filtered")])]),t._v(" "),s("p",[s("strong",[t._v("Session Saving")]),t._v(" will save all of your open tabs into a new session, for re-opening later. (Extension Required)")])])])}],!1,null,"4011ed1d",null));_.options.__file="InfoPane.vue";var b=_.exports,g=s(14),k=s.n(g),y={props:["id","self","source"],computed:{filter:function(){return this.$store.state._.filter},tagged:function(){return this.self.tags&&this.self.tags.length},prefix:function(){return this.tagged?"fa-tag":"fa-sort"},option:function(){return"boards"==this.source?"fa-pencil-alt":"fa-trash-alt"},tags:function(){return this.filter.active&&"tag"==this.filter.by},board:function(){var t=this.$$.xById(this.$store.state.boards,this.self.board);return this.$store.state.boards[t]}},methods:{filtered:function(){return this.$filter.out(this.filter,this.self)},doOption:function(){return this.$emit("trash"!=this.source?"editItem":"remItem")}}},w=(s(30),Object(l.a)(y,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.filtered(),expression:"!filtered()"}],staticClass:"item has-hint"},["sessions"!=t.source?s("i",{class:["grab mute fas",t.prefix]}):t._e(),t._v(" "),s("a",{staticClass:"link",attrs:{href:t.self.link}},[t._v("\n    "+t._s(t.self.name)+"\n  ")]),t._v(" "),"trash"==t.source&&"links"==t.id?s("a",{staticClass:"hint",attrs:{href:"#"},on:{click:function(e){t.$emit("resItem")}}},[s("i",{staticClass:"mute fas fa-history"})]):t._e(),t._v(" "),"sessions"!=t.source?s("a",{staticClass:"hint",attrs:{href:"#"},on:{click:function(e){t.doOption()}}},[s("i",{class:["mute fas",t.option]})]):t._e()])},[],!1,null,"af0c69be",null));w.options.__file="CardItem.vue";var C=w.exports,$={props:["board","item","source"],data:function(){return{newTag:"",newBoard:0}},computed:{self:function(){return this.$store.state[this.source][this.board]},link:function(){return this.self.links[this.item]},none:function(){return this.link?""==this.link.name:!this.self.links.length}},methods:{addTag:function(){if(!this.newTag)return this.$$.toast("No Tag Specified.");this.link.tags.push(this.newTag),this.newTag=""},remTag:function(t){this.link.tags.splice(t,1)},trash:function(){this.link?this.$store.commit("trash_link",{board:this.board,item:this.item}):"boards"==this.source?this.$store.commit("trash_board",this.board):"sessions"==this.source&&this.$store.commit("trash_session",this.board),this.finish()},finish:function(){var t={old:this.board,new:this.newBoard,item:this.item};return this.newBoard>0&&this.$store.commit("change_board",t),this.$store.commit("refresh"),this.$emit("finished")}}},x=(s(32),Object(l.a)($,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"escape",void 0,e.key,void 0))return null;t.finish()}}},[t.link?t._e():s("div",[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.self.name,expression:"self.name"}],attrs:{type:"text",placeholder:"Board Name"},domProps:{value:t.self.name},on:{keup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.finish()},input:function(e){e.target.composing||t.$set(t.self,"name",e.target.value)}}})]),t._v(" "),t.link?s("div",{staticClass:"link"},[s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.link.name,expression:"link.name"}],attrs:{type:"text",placeholder:"Link Name"},domProps:{value:t.link.name},on:{keup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.finish()},input:function(e){e.target.composing||t.$set(t.link,"name",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.link.link,expression:"link.link"}],attrs:{type:"text",placeholder:"Link URL"},domProps:{value:t.link.link},on:{keup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.finish()},input:function(e){e.target.composing||t.$set(t.link,"link",e.target.value)}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.newBoard,expression:"newBoard"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.newBoard=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"0",selected:""}},[t._v("Change Board")]),t._v(" "),t._l(t.$store.state.boards,function(e,n){return t.self.id!=e.id?s("option",{domProps:{value:n}},[t._v("\n        "+t._s(e.name)+"\n      ")]):t._e()})],2),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],attrs:{type:"text",placeholder:"Add Tag"},domProps:{value:t.newTag},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.addTag()},input:function(e){e.target.composing||(t.newTag=e.target.value)}}}),t._v(" "),s("ul",{staticClass:"tags"},t._l(t.link.tags,function(e,n){return s("li",{key:n,staticClass:"tag",on:{click:function(e){t.remTag(n)}}},[s("strong",[t._v("\n          #"+t._s(e)+"\n        ")])])}))]):t._e(),t._v(" "),s("div",{staticClass:"bottom row align-center"},[s("div",{staticClass:"col col-xs-4"},[s("a",{attrs:{href:"#"},on:{click:function(e){t.finish()}}},[s("i",{staticClass:"mute fas fa-times"})])]),t._v(" "),s("div",{staticClass:"col col-xs-4"},[s("a",{attrs:{href:"#"},on:{click:function(e){t.trash()}}},[s("i",{staticClass:"bad fas fa-trash-alt"})])]),t._v(" "),s("div",{staticClass:"col col-xs-4"},[s("a",{attrs:{href:"#"},on:{click:function(e){t.finish()}}},[s("i",{staticClass:"good fas fa-check"})])])])])},[],!1,null,"eab60cae",null));x.options.__file="CardEditor.vue";var S=x.exports,T={props:["id","self","source","sesh"],data:function(){return{show:!1,drag:!1,edit:{item:!1,active:!1}}},computed:{session:function(){return"sessions"==this.source},filter:function(){return this.$store.state._.filter},trash:function(){return this.$store.state.trash},links:function(){return this.$store.state.view.links},overflow:function(){return this.self.links.length>this.links},hasLinks:function(){return this.self.links&&this.self.links.length}},methods:{finished:function(){return this.edit.active=!1},filtered:function(){return this.$filter.out(this.filter,this.self,!0)},amend:function(t){this.edit.item=t,this.edit.active=!this.edit.active},openCard:function(){return this.$$.openAll(this.self.links)},visible:function(t){return!this.edit.active&&(this.show||t<this.links||this.filter.active||this.drag)},create:function(){this.$store.commit("create_link",{board:this.id}),this.amend(this.self.links.length-1)},remove:function(t){t||0===t?this.self.links.splice(t,1):"links"==this.id?this.self.links=[]:this.sesh?this.trash.sessions.splice(this.id,1):this.trash.boards.splice(this.id,1),this.$store.commit("refresh")},restore:function(t,e){if(t){var s=this.$$.xById(this.$store.state.boards,t.board);if(s<0)return this.$$.toast("Unknown Board.");delete t.board,this.$store.state.boards[s].links.push(t),this.trash.links.splice(e,1)}else if("links"!=this.id)this.sesh?(this.$store.state.sessions.push(this.trash.sessions[this.id]),this.trash.sessions.splice(this.id,1)):(this.$store.state.boards.push(this.trash.boards[this.id]),this.trash.boards.splice(this.id,1));else for(var n=this.trash.links.length-1;n>=0;n--)this.restore(this.trash.links[n],n);this.$store.commit("refresh")}},components:{Draggable:k.a,CardItem:C,CardEditor:S}},O=(s(34),Object(l.a)(T,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.filtered(),expression:"!filtered()"}]},[s("div",{staticClass:"card has-hint"},[s("h6",{class:{grab:"trash"!=t.source}},[t._v("\n      "+t._s(t.self.name)+"\n\n      "),"trash"!=t.source?s("a",{staticClass:"hint tooltip float-right",attrs:{href:"#"},on:{click:function(e){t.openCard()}}},[s("i",{staticClass:"mute fas fa-external-link-alt"}),t._v(" "),s("span",{staticClass:"tooltip-text"},[t._v("\n          Open "+t._s(t.self.links.length)+" Links\n        ")])]):t._e()]),t._v(" "),t.hasLinks||t.edit.active?t._e():s("div",{staticClass:"nothing align-center"},[t._v("\n      There's nothing here.\n    ")]),t._v(" "),s("draggable",{attrs:{options:{handle:".grab",group:"items"}},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.self.links,callback:function(e){t.$set(t.self,"links",e)},expression:"self.links"}},t._l(t.self.links,function(e,n){return s("card-item",{directives:[{name:"show",rawName:"v-show",value:t.visible(n),expression:"visible(key)"}],key:e.id,attrs:{id:t.id,self:e,source:t.source},on:{editItem:function(e){t.amend(n)},remItem:function(e){t.remove(n)},resItem:function(s){t.restore(e,n)}}})})),t._v(" "),t.edit.active?s("card-editor",{attrs:{board:t.id,source:t.source,item:t.edit.item},on:{finished:t.finished}}):t._e(),t._v(" "),s("div",{staticClass:"overflow row align-center"},[s("div",{staticClass:"col-xs-4"},["trash"!=t.source?s("a",{staticClass:"hint",attrs:{href:"#"},on:{click:function(e){t.amend("board")}}},[s("strong",[t._v("Edit")])]):t._e(),t._v(" "),"trash"==t.source?s("a",{staticClass:"hint bad",attrs:{href:"#"},on:{click:function(e){t.remove()}}},[s("strong",[t._v("Delete")])]):t._e()]),t._v(" "),s("div",{staticClass:"col-xs-4"},[s("a",{attrs:{href:"#"},on:{click:function(e){t.show=!t.show}}},[s("i",{staticClass:"mute fas fa-ellipsis-h"})])]),t._v(" "),s("div",{staticClass:"col-xs-4"},["boards"==t.source?s("a",{staticClass:"hint",attrs:{href:"#"},on:{click:function(e){t.create()}}},[s("strong",[t._v("New")])]):t._e(),t._v(" "),"trash"==t.source?s("a",{staticClass:"hint good",attrs:{href:"#"},on:{click:function(e){t.restore()}}},[s("strong",[t._v("Restore")])]):t._e()])])],1)])},[],!1,null,"20bff13d",null));O.options.__file="CardBoard.vue";var B=O.exports,I={computed:{source:function(){return this.$store.state.view.tab},trash:function(){return this.$store.state.trash},boards:function(){return this.$store.state.boards},sessions:function(){return this.$store.state.sessions},stack:{get:function(){return this[this.source]},set:function(t){return this.$store.commit("update_"+this.source,t)}},columns:function(){return"col col-md-6 col-lg-4 col-xlg-2-5"},notEmpty:function(){return this.stack&&!this.stack.length&&"trash"!=this.source}},components:{Draggable:k.a,CardBoard:B}},P=(s(36),Object(l.a)(I,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cardStack"}},["trash"!=t.source?s("draggable",{staticClass:"row",attrs:{options:{handle:".grab"}},model:{value:t.stack,callback:function(e){t.stack=e},expression:"stack"}},t._l(t.stack,function(e,n){return t.stack&&t.stack.length?s("card-board",{key:t.stack.id,class:t.columns,attrs:{source:t.source,id:n,self:e}}):t._e()})):t._e(),t._v(" "),"trash"==t.source?s("div",{staticClass:"row"},[s("card-board",{class:t.columns,attrs:{source:t.source,self:t.trash,id:"links"}}),t._v(" "),t._l(t.trash.boards,function(e,n){return s("card-board",{key:t.stack.id,class:t.columns,attrs:{source:t.source,type:"boards",id:n,self:e}})}),t._v(" "),t._l(t.trash.sessions,function(e,n){return s("card-board",{key:t.stack.id,class:t.columns,attrs:{source:t.source,sesh:!0,id:n,self:e}})})],2):t._e(),t._v(" "),s("div",{staticClass:"row"},[t.notEmpty?s("div",{class:t.columns},[s("div",{staticClass:"card align-center"},[t._v("\n        You don't have any "+t._s(t.source)+" yet.\n      ")])]):t._e()])],1)},[],!1,null,"e5bb6ea0",null));P.options.__file="CardStack.vue";var E=P.exports,A={data:function(){return{name:"",link:"",tabs:[],session:!1,label:"Session On "+(new Date).toLocaleDateString("en-US")}},computed:{isBrowser:function(){return this.name&&this.link},lastBoard:function(){return this.$store.state.meta.lastBoard}},methods:{saveLink:function(){this.$store.commit("create_link",{name:this.name,link:this.link}),this.cancel()},saveSession:function(){var t={name:this.label,links:this.tabs};this.$store.commit("create_session",t),this.cancel()},cancel:function(){this.name="",this.link="",this.tabs=[]}},created:function(){var t=this;window.location.href.indexOf("popup=true")>-1&&this.$browser().then(function(e){if(e)for(var s=0;s<e.length;s++)t.tabs.push({name:e[s].title,link:e[s].url}),e[s].active&&(t.name=e[s].title,t.link=e[s].url)})}},L=(s(38),Object(l.a)(A,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"popup"}},[t.isBrowser?s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-6 col-lg-4 col-xlg-2-5"},[t.session?s("div",{staticClass:"input-box"},[t._l(t.tabs,function(t){return s("input",{attrs:{disabled:"",type:"text"},domProps:{value:t.name}})}),t._v(" "),s("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Session Name"},domProps:{value:t.label},on:{keup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.saveSession()}}}),t._v(" "),s("button",{staticClass:"full button-primary",on:{click:function(e){t.saveSession()}}},[t._v("\n          Save Session\n        ")])],2):t._e(),t._v(" "),t.session?t._e():s("button",{staticClass:"full button-primary-outlined",on:{click:function(e){t.session=!0}}},[t._v("\n        Save Session ("+t._s(t.tabs.length)+")\n      ")]),t._v(" "),t.session?t._e():s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Link Name"},domProps:{value:t.name},on:{keup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.saveLink()}}}),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.lastBoard,expression:"lastBoard"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.lastBoard=e.target.multiple?s:s[0]}}},t._l(t.$store.state.boards,function(e,n){return s("option",{domProps:{value:n}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),t._v(" "),s("button",{staticClass:"full button-primary",on:{click:function(e){t.saveLink()}}},[t._v("\n          Save Link\n        ")])]),t._v(" "),t.session?s("button",{staticClass:"full button-primary-outlined",on:{click:function(e){t.session=!1}}},[t._v("\n        Save Link\n      ")]):t._e()])]):t._e()])},[],!1,null,"1c7c53f8",null));L.options.__file="ExtPopup.vue";var D={methods:{newBoard:function(){var t=this;this.$store.commit("update_view",{tab:"boards"}),this.$store.commit("update_local",{mobile:!1}),this.$store.commit("create_board"),this.$nextTick().then(function(){t.$refs.cardStack.$children[0].$children[0].amend("board")})}},created:function(){this.$store.state.meta.syncData&&this.$store.dispatch("enable_sync",this.$sync)},components:{SideBar:f,ToolBar:h,InfoPane:b,CardStack:E,ExtPopup:L.exports}},N=(s(40),Object(l.a)(D,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"newtt"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"escape",void 0,e.key,void 0))return null;t.$store.dispatch("esc")}}},[s("side-bar",{on:{newBoard:function(e){t.newBoard()}}}),t._v(" "),s("div",{class:{open:t.$store.state.view.sidebar},attrs:{id:"content"}},[s("div",{staticClass:"wrap"},[s("div",{attrs:{id:"toast"}}),t._v(" "),s("ext-popup"),t._v(" "),s("tool-bar"),t._v(" "),t.$store.state.view.config?s("info-pane"):t._e(),t._v(" "),s("card-stack",{ref:"cardStack",attrs:{source:t.$store.state.view.tab}})],1)])],1)},[],!1,null,null,null));N.options.__file="App.vue";var j=N.exports,F={apiKey:"AIzaSyANEWNcTsXZau98evL6qnDc3IXOrJwEuPs",clientId:"645077009967-ttvthb5jpctk45q6524k87k5rm3n2r4p.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.appdata",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]},q={q:'name="newtt.json"',spaces:"appDataFolder",fields:"nextPageToken, files(id, name)"},M={disable:function(){return console.info("Disabling Sync."),new Promise(function(t,e){gapi.auth2.getAuthInstance().signOut().then(function(){t()})})},enable:function(t,e){var s=this;return console.info("Enabling Sync."),new Promise(function(e,n){Promise.all([gapi.client.load("drive","v3")]).then(function(){gapi.client.init(F).then(function(){var n=gapi.auth2.getAuthInstance();return n.isSignedIn.get()?s.fetch(t).then(function(t){e(t)}):Promise.resolve(n.signIn()).then(function(){s.fetch(t).then(function(t){e(t)})})})})})},fetch:function(t,e){var s=this;return new Promise(function(n,i){gapi.client.drive.files.list(q).then(function(i){if(i.result.files.length){console.info("Syncing Data...");var a=i.result.files[0].id;gapi.client.drive.files.get({alt:"media",fileId:a}).then(function(i){return s.handle(t,e,i).then(function(t){n(t)})})}else console.info("No Sync Data Found, Creating..."),s.create().then(function(){s.save(t).then(function(){n({sync:!0})})})})})},handle:function(t,e,s){var n=this;return new Promise(function(e,i){var a=JSON.parse(s.body),r=t.meta,o=a.meta;return r.updatedAt>o.updatedAt||r.ver!=o.ver?(console.info("Syncing Local Data"),n.save(t).then(function(){e({sync:!0})})):r.createdAt>o.createdAt||r.updatedAt<o.updatedAt?(console.info("Data Synced."),e({sync:!0,state:a})):r.updatedAt==o.updatedAt?(console.info("Data In Sync."),e({sync:!0})):void 0})},create:function(){return new Promise(function(t,e){gapi.client.drive.files.create({fields:"id",resource:{name:"newtt.json",parents:["appDataFolder"]}}).then(function(e){t()})})},save:function(t){return new Promise(function(e,s){gapi.client.drive.files.list(q).then(function(s){gapi.client.request({path:"/upload/drive/v3/files/"+s.result.files[0].id,method:"PATCH",params:{uploadType:"media"},body:JSON.stringify(t)}).then(function(t){e(t)})})})}},H={sync:M,install:function(t){t.prototype.$sync=M}},U={install:function(t){var e=function(t,e){for(var s=[],n=e.length-1;n>=0;n--)if("str"==t)s.push(e[n].name);else if(e[n].tags&&e[n].tags.length)for(var i=e[n].tags.length-1;i>=0;i--)s.push(e[n].tags[i]);return s};t.prototype.$filter={run:function(t){var e=t.target.value;"Enter"!=t.key&&"Escape"!=t.key||(e="");var s={key:"",type:"string",active:!1};if(e){var n=e.charAt(0);s.type=":"==n?"board":"#"==n?"tag":"string",s.key="string"==s.type?e:e.substr(1),s.active=!0}return s},out:function(t,s,n){var i=[];return!!t.active&&(n&&"board"==t.type&&(i=s.name),n&&"tag"==t.type&&(i=e("tags",s.links)),n&&"string"==t.type&&(i=e("str",s.links)),!(!n&&"board"==t.type)&&(n||"tag"!=t.type||(i=s.tags),n||"string"!=t.type||(i=s.name),function(t,e){if(!e)return!0;var s=t.toLowerCase();if(e.constructor===Array){if(!e.length)return!0;for(var n=e.length-1;n>=0;n--)if(e[n].toLowerCase().indexOf(s)>-1)return!1;return!0}return e.toLowerCase().indexOf(s)<0}(t.key,i)))}}}};function J(t){return function(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var R={install:function(t){t.prototype.$importer=function(t){return new Promise(function(e,s){if(!t)return alert("No file uploaded!");var n=new FileReader;n.onload=function(t){var s={},n=document.createElement("html");n.innerHTML=t.target.result;for(var i=n.getElementsByTagName("a"),a=function(t){return"Bookmarks"==t||"Bookmarks Bar"==t},r=i.length-1;r>=0;r--){for(var o=i[r],c={tags:[]},l=o.closest("DL").previousElementSibling,u=l.innerText;l.closest("DL");)a((l=l.closest("DL").previousElementSibling).innerText)||(c.tags.push(u),u=l.innerText);var f=o.getAttribute("tags");f&&(c.tags=J(c.tags).concat(J(f.split(",")))),s[u]||(s[u]={name:u,links:[]}),c.link=o.href,c.name=o.innerText?o.innerText:o.href,s[u].links.push(c)}e(s)},n.readAsText(t)})}}},Y={xById:function(t,e){return t.findIndex(function(t){return t.id==e})},toasts:[],toasting:!1,toast:function(t){this.toasts.push(t),this.popup(this.toasts,this.popup)},popup:function(t,e){var s=this,n=document.querySelector("#toast");if(t.length){var i='<p class="alert alert-info alert-border">\n                       '.concat(t.shift(),"\n                     </p>");n.classList.add("active"),n.innerHTML=i,this.toasting||(this.toasting=setTimeout(function(){s.toasting=!1,e(t,e)},2e3))}else n.classList.remove("active"),n.innerHTML=""},openAll:function(t){var e="You're trying to open ".concat(t.length," links"),s="".concat(e,", try refining your search."),n="".concat(e,", continue?"),i=function(t){for(var e=0;e<t.length;e++){var s="string"==typeof t[e].link?t[e].link:t[e],n=window.open(s);try{n.focus()}catch(t){this.toast("You'll need to allow popups to use this feature!");break}}};return t.length>20?this.toast(s):t.length<5?i(t):void(window.confirm(n)&&i(t))}},G={install:function(t){t.prototype.$$=Y,t.directive("focus",{inserted:function(t){return"text"==t.getAttribute("type")?t.focus():t.querySelector("input").focus()}})}},W={install:function(t){t.prototype.$browser=function(){return new Promise(function(t,e){chrome.tabs?chrome.tabs.query({},function(e){return t(e)}):t(!1)})}}},X={meta:{ver:1,linkIndex:1,boardIndex:2,lastBoard:0,updatedAt:0,createdAt:Date.now(),syncData:!1},view:{grid:3,links:5,config:!0,sidebar:!0,tab:"boards"},boards:[{id:1,name:"Inbox",links:[]}],sessions:[],trash:{name:"Trash",links:[],boards:[],sessions:[]},_:{mobile:!1,filter:{key:"",type:"string",active:!1}}},z={esc:function(t){var e=t.commit,s=t.state;return s._.mobile?e("update_local",{mobile:!1}):s.view.config?e("update_view",{config:!1}):s._.filter.active?e("update_local",{filter:{key:"",active:!1}}):void 0},enable_sync:function(t,e){var s=t.commit,n=t.state;e.enable(n).then(function(t){t.state?(s("update_meta",t.state.meta),s("update_view",t.state.view),s("update_trash",t.state.trash),s("update_boards",t.state.boards),s("update_sessions",t.state.sessions)):s("update_meta",{syncData:t.sync})})},disable_sync:function(t,e){var s=t.commit;t.state,e.disable().then(function(){s("update_meta",{syncData:!1})})}};function K(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){V(t,e,s[e])})}return t}function V(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Z={refresh:function(t){return t},update_local:function(t,e){return t._=K({},t._,e)},update_meta:function(t,e){return t.meta=K({},t.meta,e)},update_view:function(t,e){return t.view=K({},t.view,e)},update_trash:function(t,e){return t.trash=K({},t.trash,e)},update_boards:function(t,e){return t.boards=e},update_sessions:function(t,e){return t.sessions=e},create_session:function(t,e){var s={id:t.meta.boardIndex,name:e.name?e.name:"",links:e.links?e.links:[]};t.sessions.unshift(s),t.meta.boardIndex+=1},create_board:function(t,e){var s={id:t.meta.boardIndex,name:e||"",links:[]};t.boards.unshift(s),t.meta.boardIndex+=1},create_link:function(t,e){var s=e.board?e.board:0,n={id:t.meta.linkIndex,name:e.name?e.name:"",link:e.link?e.link:"",tags:e.tags?e.tags:[]};t.boards[s].links.push(n),t.meta.linkIndex+=1,e.board&&(t.meta.lastBoard=e.board)},change_board:function(t,e){t.boards[e.new].links.push(link),t.boards[e.old].links.splice(e.item,1)},trash_board:function(t,e){var s=t.boards[e];if(s.links.length){t.trash.boards.push(s);for(var n=t.trash.links.length-1;n>=0;n--)t.trash.links[n].board==s.id&&(delete t.trash.links[n].board,s.links.push(t.trash.links[n]),t.trash.links.splice(n,1))}t.boards.splice(e,1)},trash_session:function(t,e){var s=t.sessions[e];s.links.length&&t.trash.sessions.push(s),t.sessions.splice(e,1)},trash_link:function(t,e){var s=t.boards[e.board],n=s.links[e.item];(""!=n.name||""!=n.link||n.tags.length)&&t.trash.links.push(K({},n,{board:s.id})),t.boards[e.board].links.splice(e.item,1)},import_bookmarks:function(t,e){for(var s in e){for(var n in e[s].id=t.meta.boardIndex,t.meta.boardIndex+=1,e[s].links){e[s].links[n].id=t.meta.linkIndex,t.meta.linkIndex+=1}t.boards.push(e[s])}},sync:function(t,e){return e.save(t)}},Q=s(3),tt=s.n(Q);function et(t,e,s,n,i,a,r){try{var o=t[a](r),c=o.value}catch(t){return void s(t)}o.done?e(c):Promise.resolve(c).then(n,i)}a.a.use(r.a),a.a.use(H),a.a.use(U),a.a.use(R),a.a.use(G),a.a.use(W),tt.a.config({storeName:"newtt",driver:tt.a.indexedDB});var st=function(t){t.subscribe(function(t,e){e.meta.updatedAt=Date.now(),tt.a.setItem("state",e),e.meta.syncData&&H.sync.save(e)})};function nt(){return(nt=function(t){return function(){var e=this,s=arguments;return new Promise(function(n,i){var a=t.apply(e,s);function r(t){et(a,n,i,r,o,"next",t)}function o(t){et(a,n,i,r,o,"throw",t)}r(void 0)})}}(i.a.mark(function t(){var e,s,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.getItem("state");case 2:if(e=t.sent){for(s in X.trash=e.trash,X.boards=e.boards,X.sessions=e.sessions,e.meta)X.meta[s]=e.meta[s];for(s in e.view)X.view[s]=e.view[s]}n=new r.a.Store({state:X,mutations:Z,actions:z,plugins:[st]}),new a.a({store:n,el:"#app",data:{version:o.a},render:function(t){return t(j)}});case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}a.a.config.productionTip=!1,function(){nt.apply(this,arguments)}()}]);
//# sourceMappingURL=main.d4a1ef7f.js.map